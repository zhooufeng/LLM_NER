/home/ubuntu/anaconda3/envs/chatglm/bin/python /home/ubuntu/jupyter/ChatGLM2-6B/workspace/main.py
[INFO]	in file pathcfg.py(line 24)	2023-07-24	22:22:32: path loaded successfully
[INFO]	in file load_model.py(line 7)	2023-07-24	22:22:33: loading ChatGLM2-6B
[DEBUG]	in file load_model.py(line 8)	2023-07-24	22:22:33: LLMPath:../THUDM/chatglm2-6b
Loading checkpoint shards: 100%|██████████| 7/7 [00:12<00:00,  1.83s/it]
[INFO]	in file load_model.py(line 13)	2023-07-24	22:22:48: load ChatGLM2-6B successfully
[INFO]	in file main.py(line 20)	2023-07-24	22:22:48: 启用多文本分析模式，共5文本
[INFO]	in file main.py(line 24)	2023-07-24	22:22:48: 分析文本(1/5)

[INFO]	in file promptMain.py(line 65)	2023-07-24	22:22:48: 尝试对输入文本进行事件抽取(1/10次)
[INFO]	in file promptMain.py(line 75)	2023-07-24	22:22:55: 成功得到事件关系json
[INFO]	in file promptMain.py(line 15)	2023-07-24	22:22:55: 对事件进行归类和细节分析
[INFO]	in file main.py(line 24)	2023-07-24	22:23:10: 分析文本(2/5)

[INFO]	in file promptMain.py(line 65)	2023-07-24	22:23:10: 尝试对输入文本进行事件抽取(1/10次)
[INFO]	in file promptMain.py(line 75)	2023-07-24	22:23:15: 成功得到事件关系json
[INFO]	in file promptMain.py(line 15)	2023-07-24	22:23:15: 对事件进行归类和细节分析
[INFO]	in file main.py(line 24)	2023-07-24	22:23:50: 分析文本(3/5)

[INFO]	in file promptMain.py(line 65)	2023-07-24	22:23:50: 尝试对输入文本进行事件抽取(1/10次)
[WARNING]	in file promptMain.py(line 82)	2023-07-24	22:23:57: 大模型输出的json格式有误
[INFO]	in file promptMain.py(line 65)	2023-07-24	22:23:57: 尝试对输入文本进行事件抽取(2/10次)
[INFO]	in file promptMain.py(line 75)	2023-07-24	22:24:03: 成功得到事件关系json
[INFO]	in file promptMain.py(line 15)	2023-07-24	22:24:03: 对事件进行归类和细节分析
[INFO]	in file main.py(line 24)	2023-07-24	22:24:36: 分析文本(4/5)

[INFO]	in file promptMain.py(line 65)	2023-07-24	22:24:36: 尝试对输入文本进行事件抽取(1/10次)
[INFO]	in file promptMain.py(line 75)	2023-07-24	22:24:42: 成功得到事件关系json
[INFO]	in file promptMain.py(line 15)	2023-07-24	22:24:42: 对事件进行归类和细节分析
[INFO]	in file main.py(line 24)	2023-07-24	22:26:01: 分析文本(5/5)

[INFO]	in file promptMain.py(line 65)	2023-07-24	22:26:01: 尝试对输入文本进行事件抽取(1/10次)
[INFO]	in file promptMain.py(line 75)	2023-07-24	22:26:09: 成功得到事件关系json
[INFO]	in file promptMain.py(line 15)	2023-07-24	22:26:09: 对事件进行归类和细节分析
[{'因果关系': [{'原因': {'事件描述': '当前经济运行面临新的困难挑战',
                   '事件类型': '经济事件',
                   '事件细节': "{'事件类型': '经济事件', '详细信息': '当前经济运行面临新的困难挑战'}"},
            '结果': {'事件描述': '国内需求不足，一些企业经营困难，重点领域风险隐患较多',
                   '事件类型': '国内需求不足，一些企业经营困难，重点领域风险隐患较多',
                   '事件细节': '问题1：\n'
                           '\n'
                           '文字：国内需求不足，一些企业经营困难，重点领域风险隐患较多\n'
                           '\n'
                           '事件类型：经济问题\n'
                           '\n'
                           "输出：{'事件类型': '经济问题', '具体原因': "
                           "'国内需求不足，一些企业经营困难，重点领域风险隐患较多'}"}}],
  '顺承关系': [{'前一事件': {'事件描述': '疫情防控平稳转段后，经济恢复是一个波浪式发展、曲折式前进的过程',
                     '事件类型': '疫情事件',
                     '事件细节': '抱歉，我需要更多的上下文才能完成这个任务。请提供更多上下文，以便我能够提取出适当的细节并输出json格式的答案。'},
            '后一事件': {'事件描述': '我国经济具有巨大的发展韧性和潜力，长期向好的基本面没有改变',
                     '事件类型': '经济事件',
                     '事件细节': '抱歉，我无法对您提供该段文字，因为其并没有描述任何事件或事物。如果您能提供更具描述性的文字，我将非常乐意为您提供相应的输出。'}}]},
 {'因果关系': [{'原因': {'事件描述': '当前经济运行面临新的困难挑战',
                   '事件类型': '经济问题事件',
                   '事件细节': "{'事件类型': '经济问题事件', '详细信息': "
                           "'当前经济运行面临新的困难挑战,包括全球经济增长放缓、贸易紧张局势、地缘政治不确定性以及新冠疫情的影响等。'}"},
            '结果': {'事件描述': '国内需求不足',
                   '事件类型': '国内需求不足',
                   '事件细节': '抱歉，我需要更多的上下文才能理解您的问题。请提供更多上下文或详细信息，以便我能够以语言学家的身份完成您的任务。'}},
           {'原因': {'事件描述': '国内需求不足',
                   '事件类型': '国内需求不足',
                   '事件细节': '抱歉，我需要更多的上下文才能理解您的问题。请提供更多上下文或详细描述您的问题，以便我能够以语言学家的身份完成您的任务。'},
            '结果': {'事件描述': '一些企业经营困难',
                   '事件类型': '经营困难',
                   '事件细节': '问题1：\n'
                           '\n'
                           '文字：一些企业经营困难\n'
                           '\n'
                           '事件类型：经营困难\n'
                           '\n'
                           "输出：{'经营困难': '一些企业', '企业类型': '未知'}"}},
           {'原因': {'事件描述': '一些企业经营困难',
                   '事件类型': '经营困难',
                   '事件细节': '问题1：\n'
                           '\n'
                           '文字：一些企业经营困难\n'
                           '\n'
                           '事件类型：经营困难\n'
                           '\n'
                           "输出：{'经营困难企业': '一些', '具体原因': '经营困难'}"},
            '结果': {'事件描述': '重点领域风险隐患较多',
                   '事件类型': '风险事件',
                   '事件细节': "{'事件类型': '风险事件', '具体风险': '重点领域'}"}},
           {'原因': {'事件描述': '重点领域风险隐患较多',
                   '事件类型': '风险隐患',
                   '事件细节': "{'事件类型': '风险隐患', '具体描述': '重点领域风险隐患较多'}"},
            '结果': {'事件描述': '外部环境复杂严峻',
                   '事件类型': '安全事件',
                   '事件细节': "{'事件类型': '安全事件', '攻击者': '未知', '攻击手段': '未提及', "
                           "'攻击工具': '未提及'}"}}],
  '顺承关系': [{'前一事件': {'事件描述': '疫情防控平稳转段后',
                     '事件类型': '疫情防控平稳转段后（未描述具体情境，无法确定事件类型）',
                     '事件细节': '抱歉，由于您提供的信息不足以确定事件类型，我无法为您提供相应的输出。请您提供更多详细信息，以便我能够更好地完成您的任务。'},
            '后一事件': {'事件描述': '经济恢复是一个波浪式发展、曲折式前进的过程',
                     '事件类型': '经济事件',
                     '事件细节': '由于没有提供具体的事件细节，无法为您提供详细的答案。请您提供更多详细信息，以便我能够以一名语言学家的身份完成您的任务。'}}]},
 {'因果关系': [{'原因': {'事件描述': '会议指出',
                   '事件类型': '会议事件',
                   '事件细节': '会议事件\n'
                           '\n'
                           "输出：{'会议类型': '会议指出', '会议主题': '', '会议时间': '', "
                           "'会议地点': '', '出席人员': '', '缺席人员': '', '主持人': '', "
                           "'记录员':'}"},
            '结果': {'事件描述': '当前经济运行面临新的困难挑战',
                   '事件类型': '经济事件',
                   '事件细节': "{'事件类型': '经济事件', '详细信息': '当前经济运行面临新的困难挑战'}"}},
           {'原因': {'事件描述': '国内需求不足',
                   '事件类型': '国内需求不足',
                   '事件细节': '抱歉，我无法理解您提供的内容。如果您可以提供更多上下文或详细信息，我将尽力回答您的问题。'},
            '结果': {'事件描述': '一些企业经营困难',
                   '事件类型': '经营困难',
                   '事件细节': '问题1：\n'
                           '\n'
                           '文字：一些企业经营困难\n'
                           '\n'
                           '事件类型：经营困难\n'
                           '\n'
                           "输出：{'企业': '一些', '经营困难': '}"}},
           {'原因': {'事件描述': '重点领域风险隐患较多',
                   '事件类型': '风险隐患事件',
                   '事件细节': "{'事件类型': '风险隐患事件', '具体描述': '重点领域风险隐患较多'}"},
            '结果': {'事件描述': '外部环境复杂严峻',
                   '事件类型': '事件类型：崩溃',
                   '事件细节': '抱歉，我无法理解您的问题。请您提供更多上下文或详细描述您需要的信息，以便我能够更好地回答您的问题。'}}],
  '顺承关系': [{'前一事件': {'事件描述': '疫情防控平稳转段后',
                     '事件类型': '疫情防控平稳转段后',
                     '事件细节': '抱歉，我无法理解您提供的内容。'},
            '后一事件': {'事件描述': '经济恢复是一个波浪式发展、曲折式前进的过程',
                     '事件类型': '经济事件',
                     '事件细节': "{'事件类型': '经济事件', '详细描述': "
                             "'经济恢复是一个波浪式发展、曲折式前进的过程'}"}},
           {'前一事件': {'事件描述': '我国经济具有巨大的发展韧性和潜力',
                     '事件类型': '经济发展事件',
                     '事件细节': "{'攻击对象': '我国经济', '攻击者': '未知', '攻击手段': '无', "
                             "'攻击工具': '无'}"},
            '后一事件': {'事件描述': '长期向好的基本面没有改变',
                     '事件类型': '经济事件',
                     '事件细节': '抱歉，我无法理解您提供的文本。 "长期向好的基本面没有改变" '
                             '并没有提供足够的信息来确定事件类型。 '
                             '请提供更多上下文或详细信息，以便我能够更好地回答您的问题。'}}]},
 {'因果关系': [{'原因': {'事件描述': '会议指出',
                   '事件类型': '问题1：\n'
                           '\n'
                           '文字：会议指出\n'
                           '\n'
                           "备选事件类型列表：['摆渡', '保存', '暴露', '崩溃', '编写', '遍历', "
                           "'标记', '播放', '博彩', '擦除', '操作', '承诺', '充值', '穿过', "
                           "'传播', '传递', '传输', '闯入', '创建', '打击', '打乱', '打印', "
                           "'弹出', '登录', '点击', '发放', '发件', '发射', '发帖', '发现', "
                           "'翻译', '反沙盒', '访问', '放大', '分布', '分类', '分配', '分析', "
                           "'分享', '分组', '附赠', '复制', '感染', '干预', '跟踪', '更换', "
                           "'更新', '工作', '公开发售', '攻击', '共享', '购买', '挂载', '管理', "
                           "'怀疑', '回款', '贿赂', '混淆', '获取', '加密', '加强', '加载', "
                           "'价值', '监督', '监听', '建立', '交通', '接管', '接受', '揭露', "
                           "'解决', '解密', '进入', '开始', '克隆', '空心化', '控制', '利用木马', "
                           "'链接', '聊天', '浏览', '沦陷', '蔓延', '枚举', '拿到', '排序', "
                           "'喷洒', '窃取', '认为', '扫描', '稍后', '设计', '深入', '渗入', "
                           "'渗透', '生产', '释放', '收集', '输入', '搜索', '探测', '剔除', "
                           "'提出', '替代', '添加', '填写', '跳转到', '通信', '投递', '投放', "
                           "'投资', '突破', '推断', '挖掘', '位于', '位置', '误导', '洗钱', "
                           "'下降', '相似', '销毁', '销售', '泄露', '形成', '学习', '循环请求', "
                           "'研究', '演变为', '依赖于', '疑似', '溢出', '引入', '隐藏', '硬编码', "
                           "'诱导', '诱惑', '越界读取', '越界写入', '运行', '展示', '战胜', "
                           "'制定', '制造', '滞留', '重叠', '重定向', '转发', '装载', '自查', "
                           "'阻塞', '做好', '钓鱼攻击', '勒索软件攻击', '拒绝服务攻击', "
                           "'分布式拒绝服务攻击', '木马攻击', '病毒攻击', '蠕虫攻击', '核心漏洞攻击', "
                           "'中间人攻击', '网络钓鱼攻击', '黑客攻击', '网络窃听攻击', '端口扫描攻击', "
                           "'社会工程学攻击', '越权访问攻击']\n"
                           '\n'
                           '输出：',
                   '事件细节': '问题1：\n'
                           '\n'
                           '文字：会议指出，在一家公司的网络中发生了一起攻击事件。经过调查发现，攻击者利用了SQL注入漏洞，盗取了数据库中的敏感信息，并将其泄露给了未经授权的人员。\n'
                           '\n'
                           '事件类型：攻击事件\n'
                           '\n'
                           '输出：\n'
                           '\n'
                           "{'攻击对象': '该公司网络', '攻击者': '攻击者是一个不明人士', '攻击手段': "
                           "'利用SQL注入漏洞，盗取数据库中的敏感信息并将其泄露', '攻击工具': 'SQL注入漏洞'}"},
            '结果': {'事件描述': '当前经济运行面临新的困难挑战',
                   '事件类型': '经济事件',
                   '事件细节': "{'事件类型': '经济事件', '详细信息': '当前经济运行面临新的困难挑战'}"}},
           {'原因': {'事件描述': '国内需求不足',
                   '事件类型': '国内需求不足',
                   '事件细节': '抱歉，我无法理解您提供的文字，因为其中没有任何具体的事件或细节，无法提取出事件类型的细节。请您提供一段具体的事件或细节，以便我更好地回答您的问题。'},
            '结果': {'事件描述': '一些企业经营困难',
                   '事件类型': '经营困难',
                   '事件细节': "{'经营困难': '一些企业', '企业类型': '未指定'}"}},
           {'原因': {'事件描述': '重点领域风险隐患较多',
                   '事件类型': '风险事件',
                   '事件细节': "{'事件类型': '风险事件', '详细信息': '重点领域风险隐患较多'}"},
            '结果': {'事件描述': '外部环境复杂严峻',
                   '事件类型': '事件类型：崩溃',
                   '事件细节': '无法根据您提供的事件类型提取相关细节，因为崩溃事件并没有具体的情节和细节。崩溃事件可能指计算机、系统或应用程序在运行过程中突然停止或崩溃。如果您能提供更多详细信息，我将尽力提取并输出事件类型。'}}],
  '顺承关系': [{'前一事件': {'事件描述': '疫情防控平稳转段后',
                     '事件类型': "疫情防控平稳转段后（事件类型： '转变'）",
                     '事件细节': '疫情防控平稳转段后，'},
            '后一事件': {'事件描述': '经济恢复是一个波浪式发展、曲折式前进的过程',
                     '事件类型': '经济事件',
                     '事件细节': "{'事件类型': '经济事件', '具体内容': "
                             "'经济恢复是一个波浪式发展、曲折式前进的过程'}"}},
           {'前一事件': {'事件描述': '我国经济具有巨大的发展韧性和潜力',
                     '事件类型': '经济发展事件',
                     '事件细节': "{'攻击对象': '我国经济', '攻击者': '未知', '攻击手段': '无', "
                             "'攻击工具': '无'}"},
            '后一事件': {'事件描述': '长期向好的基本面没有改变',
                     '事件类型': '问题1：没有给出任何备选事件类型列表，无法确定输出事件类型。请提供相关文字，以便我能够完成您的任务。',
                     '事件细节': '抱歉，我没有足够的信息来确定您要表达的事件类型。请提供相关的文字，以便我能够完成您的任务。'}}]},
 {'因果关系': [{'原因': {'事件描述': '当前经济运行面临新的困难挑战',
                   '事件类型': '经济问题事件',
                   '事件细节': "{'事件类型': '经济问题事件', '详细描述': ''}"},
            '结果': {'事件描述': '国内需求不足',
                   '事件类型': '国内需求不足',
                   '事件细节': '抱歉，我需要更多的上下文才能理解您的问题。请提供更多上下文或详细信息，以便我能够以语言学家的身份完成您的任务。'}},
           {'原因': {'事件描述': '一些企业经营困难',
                   '事件类型': '经营困难',
                   '事件细节': "{'经营困难': '一些企业', '企业类型': '未指定'}"},
            '结果': {'事件描述': '重点领域风险隐患较多',
                   '事件类型': '风险事件',
                   '事件细节': "{'事件类型': '风险事件', '攻击者': '未知', '攻击手段': '未提及', "
                           "'攻击工具': '未提及'}"}},
           {'原因': {'事件描述': '外部环境复杂严峻',
                   '事件类型': '事件类型：崩溃',
                   '事件细节': '很抱歉，我无法理解您提供的文本，因为它们没有任何具体的事件或细节，无法生成JSON格式的输出。如果您能提供有关特定事件或细节的信息，我将非常乐意帮助您。'},
            '结果': {'事件描述': '疫情防控平稳转段后经济恢复波浪式发展',
                   '事件类型': '疫情事件',
                   '事件细节': '抱歉，我无法理解您提供的文字，因为其中包含的内容与疫情防控和平稳转段后经济恢复波浪式发展没有直接关联。请您提供一段与疫情防控和平稳转段后经济恢复波浪式发展有直接关联的文字，以便我更好地完成您的任务。'}},
           {'原因': {'事件描述': '我国经济具有巨大的发展韧性和潜力',
                   '事件类型': '发展韧性',
                   '事件细节': "{'发展韧性': '我国经济具有巨大的发展韧性和潜力', '潜在发展空间': '尚未充分发掘'}"},
            '结果': {'事件描述': '长期向好的基本面没有改变',
                   '事件类型': '经济事件',
                   '事件细节': '抱歉，我无法理解您提供的文本。 "长期向好的基本面没有改变" '
                           '并没有明确指出任何事件类型，因此我无法根据该文本提取出相关信息。请您提供更明确的事件类型，以便我能够更好地完成您的任务。'}}],
  '顺承关系': [{'前一事件': {'事件描述': '重点领域风险隐患较多',
                     '事件类型': '风险事件',
                     '事件细节': "{'事件类型': '风险事件', '攻击者': '未知', '攻击手段': '未提及', "
                             "'攻击工具': '未提及'}"},
            '后一事件': {'事件描述': '疫情防控平稳转段后经济恢复',
                     '事件类型': '疫情防控平稳转段后经济恢复',
                     '事件细节': '抱歉，我无法理解您提供的内容。这段文字似乎没有提供足够的信息来确定事件类型或相关细节。请提供更多上下文或详细信息，以便我能够以语言学家的身份完成您的任务。'}},
           {'前一事件': {'事件描述': '疫情防控平稳转段后经济恢复',
                     '事件类型': '疫情防控平稳转段后经济恢复',
                     '事件细节': "{'攻击对象': '疫情防控', '攻击者': '平稳转段', '攻击手段': '经济恢复', "
                             "'攻击工具': ''}"},
            '后一事件': {'事件描述': '我国经济具有巨大的发展韧性和潜力',
                     '事件类型': '经济发展事件',
                     '事件细节': "{'攻击对象': '我国经济', '攻击者': '未知', '攻击手段': '没有', "
                             "'攻击工具': '没有'}"}},
           {'前一事件': {'事件描述': '我国经济具有巨大的发展韧性和潜力',
                     '事件类型': '发展事件',
                     '事件细节': "{'事件类型': '发展事件', '发展韧性和潜力': '我国经济'}"},
            '后一事件': {'事件描述': '长期向好的基本面没有改变',
                     '事件类型': '经济事件',
                     '事件细节': '抱歉，我无法理解您提供的文本。如果您可以提供有关该事件的相关信息，例如该事件发生在哪个国家、攻击者是谁、攻击手段是什么等，我将尽力以语言学家的身份帮助您完成任务。'}}]}]

Process finished with exit code 0


需要修改prompt，然后需要对detail函数中的各项处理结果进行检测和回滚2023.7.24